use crate::Solution;

pub(super) const DAY5: Solution = Solution {
    part1: |input| {
        let mut queue: Vec<char> = Vec::new();
        for b in input.trim().chars() {
            let reacts = queue
                .last()
                .map(|&a| a != b && a.to_ascii_uppercase() == b.to_ascii_uppercase())
                .unwrap_or(false);
            if reacts {
                queue.pop();
            } else {
                queue.push(b);
            }
        }
        Ok(queue.iter().collect())
    },
    part2: |_input| unimplemented!(),
};

#[cfg(test)]
mod test {
    use crate::test;
    test!(
        DAY5.part1,
        empty: "" => "",
        example1: "aA" => "",
        example2: "abBA" => "",
        example3: "abAB" => "abAB",
        example4: "aabAAB" => "aabAAB",
        example5: "dabAcCaCBAcCcaDA" => "dabCBAcaDA",
        input: "kptmTquFSItZFiZtIBWnOmmzBBNSemOzMYQXsnsOImirfyTqBJlDmJvjggPcvwrBBSwluHOitemezzEAWqbZTLAXAxsOFCpzMiDadvxnQjlWgYPwmaUyvlXqRImBQsUJWUGKBUPnvMQABSEjYnvGLgOGtAmVJteqYZHyxCYdbomJCVtSWZUjhDUVQWeyrhhXAzHHyjszFFYkGCdkzEQaygOTEHHBlvlXhvwlabVNlPEodlJbSEOIgJdfudVQgTMEndQbNJIAVcnZhENtzKSjzMbwIysLnqUOlIhIfkSUocoZYXDfvmyHKwFRqpirKsalnmOjLzQSLrleJGRLQoaoNJgNVEOckZRBeeTeOucGpsETnuuaiXkvoMPxtlPQpiyokGuNRyVXHviEHWaiNliuGEBNARLGVfDCXjxJPEAopDUIRFjaorCqRIBrFoASzPjeZOYakXPUPDWMMSpAfdipEQwlXQbLRvrXKjbUPcvfHcBQSLOJTqlucYUwPAfeoeskHLWBryxNAAFgaRDIsmXVPVqrAEcQlZlMsaBUJYtOZygipvoXGixAmuwCgAEQQvGWEWVbQQBazrijfMRBnPftkvDlGSFjzQTJZTZfLYMNsJREoIyZLMXGVfvHorIcvjPvQDNkefBArgpipoJFwRBAkOCJqNkLaJFIzXvRBgRphNmhOAzdNXGTvipAObpRhyjVhGjcVFAfZQIZJHuiPXbEtvGaKwijZxtwTWSgnnhfcyQLtQbyJJEfJhZZhMeIoxfyaIlEEPSlcnuOxrkEdGwfgSYvlqmCDKLUNqZNXuzMXaTaifYYwnswcMymCCisUPBOkGQDoDiAuaUpfUctPuGvefBGePHDqKcnSHRBELyrAmAVaVNuwMNBMrykoJVHVoLnssTUcoLAZHtgqOyojGcNzXCthfwmlNkxqxBmmgINUQEqsGihwqZIoureaSDcYQOqhMTbElWJdkqbGRPeXlftzlWbdhVBpzdJGTeTklNzkygBXALOdviqzUTCXMhXKMkgtPizFVNIJZnTvbRyUhTvjivFbIHcAJZwZmEniOhMuRSaxYEmySzOdtktkjpdNXeTHNrqAudZMrPYBMpQeVYUxNrlTPWUZFSzwbejLHPhXcRetdoCgBvWsyhLgqmPAHXoxWSLEcRALVpSzCUvBiAWDCMExNyMfbHRbqCbReaudQvnXOlxkbjAwuoGdlKqOBZOpSPiwEgpufrQpRVNwEPvJXRiqaguThsslSvpGnQTzidhzHdRybgSwvHrSRxsQNogDSeptdRLBNwzUKiiXEGIOxZDNbzPrObJnfYbzwIlQDcTQDTfWTmoLzpyiNlnDJqvgQKiphhfRaShrgDuWyNuXowdQKcKHnVaxUCdsczUWGJtFJJEwtaYHpMAfqNQbcGpamwnHXLwVhbhIBXwVyCzJJwBhZjAmLnIpDHmLfxyOlQSVysrQPweVCjsCDhwULvOUEHyUZFvSlAgNouFYKaqAVMCojTfTnWiXmwbejoDgCwvOcxCODVXaQclWQrkloiYVfnCYPnqmTqBnuWGYsyrigzKRyasfisgPAFdssvXussnwrEYNXqAZKGnSbqshNEFULIlDYLXEIVQBPtQOKXWWxLIHuWMYDsLEseDymBvpKCUNdeGyhDKOTIrMZYprqICJJQnkkWYHoEOYgRBONveFyAIaXQXreYThLjrXCogEauCvBylPIksMwTHZrdRgUeBJiLdGCmDxrQFuKRTGwSWSbgdjXFqOCUkwlpoJbcSJvGCCFBljqzovUZZMzVMICjjjGdEdJXRmhQZNKFhpSnePdJmKxDWmgIpIxAPHQxZaDLZuoSRMfJdSGjgicwROvPMKQpKhLcrFhUeGZGLrBRwVVMlshGIxRMglDBZDkTKsUkpWaoWMCWgkctHJsNodnoLyvrwNGqgDeFngvCvHgXsimylvczrZWUsTlsaekOtyksvNafOBAtcrUtvaaucpfTpOyvgOAzocpQHdlHaVJDLJiASTRdibQUTJaoZCspSGCIEIEJkvsFOTTMoQyQgQPgDADPnzGEkpvZVGZFTFzPmIFnyIYglgsvaBoyIETmKMYJuNdlblZiCySGAZYaDyHAMswwhYTvAkritFVjSzBRuEGnSzsBRfIYEhENGKsyshiSTktBetHVawPsBsYZgFuWMZfVuIPuymCsRYZFMYRNuTUpvZgEXPxNAUJWxHoSSMMnFnsnpAFMaKSkkFjWeDEfcHjQfvPrsWgDPIygucaQULsQleFuCxOBkJmdEAUamuNojndxRlXtnvokXGTKBpDocRzxbRSCkJDxxhjgMOkZBDxhmExvaFWlTSIzBQRbhPXOZklaJfcDKSSmUhjuVWgoiWTXDpjDxFBlexTIgxrXyXBJDDxQhyzAgnthMRWLqZMUEJwYbucnDfUxsKEdCbisGTDNcSRTwjAOISVuGFFqWhvcwAoQXPlGHcdohmGdosRHuhjBjSppRGkXWpmNBTUpAeONaBsAOfZIKCPryjKIVlkHtwzeRKpWkplGppHOcoXHxijshvZKJTLJZIdnVGvzedbUgDMhQSqlTxrEJvBKcpeiwQCLKREHPlRcbvFJWgwXUjVrARIePCtYaHMCAjglcTQubLGKmtjGpMqecmsNBnLIVwxImQbEPGBtpuTuyrMuKaQtFgHlQJKtUpARwYLrQGBkrSzHRXYdfYooGxKWXMRSaPyegolbecuPnQKlmpwIvFhDmboVTJtfkyqeIccTmvoehlExyHTIIOFjwBDNyUYakAEwcOBAAVychLpxBDAjZvbzbaWadPilYHflivckNSEOpilbEilOZCRWhxAqoMCnzSXkyCoPAPlmkeezePcOBkIKTLENyfkXLpoBuHPBcYsedfInXclVBPwPDLtNwyjQTJesbCIlrKAKYZqaEKjGnFsIWQWkGjdqIjvitjWmSMhLErTMRWWxaBuRyeyZhrUPNylaCumfuajwlazgKqcjpnoElWHeSfvZRomblGsNQwDharkQuRZqqiOJxAJEJVJLLMhaIcQztHyAUIqDtcUMsQFRAoydTkqPmQkZQELkvcyBdqBqwkkuXsXFiPUaHXJEdaJZrgWCMthCrogUlSmmFvHsyxHHWdFTCIRGjiRxgxbCvcjXcntqRWNSOYINuycxpWMpBSIVUNuLBLcQCVxINUKsHoWKBqXcPQiTMCFOfOWmYsOVcIlSMvrEEwiOjVVXtpNVieqMnsMlwjiHRWPWfkFnyUnLzGSPsLIFjiAqHbRgHqesvtoYkNjzvvFvsEBLWqvOKBSScYYBcgianmkNkARGTrtuJZbGkCQxBHHFErfmVVaciOHqrjXVUQkhKOAJdscGwbKlgYxIeXFsrvbNlSdlXvTnQpCdJsZnpYWOiHWkRnOsdAGhplSHBrKMMvPjnHAYHGrsUBrPzekQoJFPVImedUQAiygVkVaTjxnbkHfvegjuqsWXVptPdOzfMwFbkNizsIOZMZCgHGKiYbPPaXLfVsXgCPTIMVxupgRpLcqUNsqCZmsCmxkFiSLVuzkiTlyBMbJJWtXpzYSJkZKpkMgznXNbiEqshzqdjSaZnjErtNtrVfqXmHDBKstDnPUssAOxsBKGckHWgEKDGNBHWcphojCDDsFOgxhMnFvTVdtAGyyzJlJbkUIItOihwiwRQsqImJayQHTBdUGstnircxrLVDVoFMpCThxfAbXPshuisUMjHtQNhvBgffNSyXNMTFMgSlhzfKRUcgElDxiKYmLsPnIhDTMQQudcGhzYAlybGrYVbIFzHGvaEuLPFQQxRDPDebNZRoQKxmIVkSZQMjRpOGvwbvyOtOzOOpVkkFpKyUfrisHTzVnujqrHFbgYNvwbRxHxvQoAKanekvCjHKApbDgpFzbkbwEPTXwGCLvkPKvcKRyDSNEPJLhqeoloCEuClKsLYBFPeyNcUSTSUgMifNmuokYfQWUzGPbUpDWgnpqIxGqYjvQhPmhwFmOmETjWfxLTXYFXQOPZOTvWWmkJCrkZZEIIvOjcQQkelYmbogQTLjuLjeZKPfptKOyhTLglDEfHRkTQhuRqTJizeAIhVzofyFZIcluLeeosDRMJOuqKWzSWjRycOftlEnakULNIqWpoHzExeKUOHXUScsubVFsNCvuAPDuSYPsbPQysNgLyvdaMPCBSUaxiJhXGWaWePgUykehZtSAnOhzIpvEllJefVohvovLAZTsMVPrglImtvPRTdzXItklvxnipgOgkLBWdbawXVPEiqicZdVOApXSqSOvXHigZiYMTHKpIQRYAkjqclYiEzTIrzmcGIgEDoCLCSwQEvSqLRCokjIzrNHgZaaaGJAjvcLpWSHxvqASEcRgASiaNPCCZvfUJkAfsuilQjvSvNQSuKKgXqxtbJGYsWKAXYAICaZKBoVDtwUJHVdGIxQMLVhWrnZamiQlhJTeMtMDbnOcgIlBFhjNylopDHrrMjuthJQSZljoVzAJrYeOYsxqdUmghIsAuyFvnMcZkiTBrifcaeOYxLiMWGKBfdWTCYUlePtPhewZUjCWpzPzeOHbXBDWqoHrQvxchAYLxVrtnkTTwPigfJsfIwJqHfYbdmIJHJkjhjiMDByFhQjWiFSjFGIpWttKNTRvXlyaHCXVqRhOQwdbxBhoEZpZPwcJuzWEHpTpELuyctwDFbkgwmIlXyoEACFIRbtIKzCmNVfYUaSiHGMuDQXSyoEyRjaZvOJLzsqjHTUJmRRhdPOLYnJHfbLiGCoNBdmTmEtjHLqIMAzNRwHvlmqXigDvhjuWTdvObkzAciayxakwSygjBTXQxGkkUsqnVsVJqLIUSFaKjuFVzccpnAIsaGrCesaQVXhswPlCVJajgAAAzGhnRZiJKOcrlQsVeqWsclcOdeGigCMZRitZeIyLCQJKayrqiPkhtmyIzGIhxVosQsxPaovDzCIQIepvxWABDwblKGoGPINXVLKTixZDtrpVTMiLGRpvmStzalVOVHOvFEjLLeVPiZHoNasTzHEKYuGpEwAwgxHjIXAusbcpmADVYlGnSYqpBSpysUdpaUVcnSfvBUSCsuxhoukEXeZhOPwQinluKANeLTFoCYrJwsZwkQUojmrdSOEElULCizfYFOZvHiaEZIjtQrUHqtKrhFedLGltHYokTPFpkzEJlUJltqGOBMyLEKqqCJoViiezzKRcjKMwwVtozpoqxfyxtlXFwJteMoMfWHMpHqVJyQgXiQPNGwdPuBpgZuwqFyKOUMnFImGustsuCnYEpfbylSkLcUecOLOEQHljpensdYrkCVkpKVlcgWxtpeWBKBZfPGdBPakhJcVKENAkaOqVXhXrBWVnyGBfhRQJUNvZthSIRFuYkPfKKvPooZoToYVBWVgoPrJmqzsKviMXkqOrznBEdpdrXqqfplUeAVghZfiBvyRgBYLayZHgCDUqqmtdHiNpSlMykIXdLeGCurkFZHLsGmftmnxYsnFFGbVHnqThJmuSIUHSpxBaFXHtcPmfOvdvlRXCRINTSguDbthqYAjMiQSqrWIWHIoTiiuKBjLjZYYgaTDvtVfNmHXGofSddcJOHPCwhbngdkeGwhKCgkbSXoaSSupNdTSkbdhMxQFvRTnTReJNzAsJDQZHSQeIBnxNZGmKPkzKjsyZPxTwjjBmbYLtIKZUvlsIfKXMcSMzcQSnuQClPrGPUXvmitpcGxSvFlxAppByIkghGczmzoiSZInKBfWmFZoDpTPvxwSQUJGEVFhKBNXJtAvKvGYIaquDEMivpfjOqKEZpRbuSRghyahNJpVmmkRbhsLPHgaDSoNrKwhIowyPNzSjDcPqNtVxLDsLnBVRSfxEiXyGLkBWgCSDjaokHKquvxJRQhoICAvvMFReRfhhbXqcKgBzjUTRtgraKnKMNAIGCbyyCssbkoVQwlbeSVfVVZJnKyOTVSEQhGrBhQaIJfilSpsgZlNuYNfKFwpwrhIJWLmSNmQEIvnPTxvvJoIWeeRVmsLiCvoSyMwoFofcmtIqpCxQbkwOhSkuniXvcqClblUnuvisbPmwPXCYUniyosnwrQTNCxJCVcBXGXrIJgrictfDwhhXYShVfMMsLuGORcHTmcwGRzjADejxhAupIfxSxUKKWQbQDbYCVKleqzKqMpQKtDYOarfqSmuCTdQiuaYhTZqCiAHmlljvjejaXjoIQQzrUqKRAHdWqnSgLBMOrzVFsEhwLeONPJCQkGZALWJAUFMUcALYnpuRHzYEYrUbAXwwrmtRelHmsMwJTIVJiQDJgKwqwiSfNgJkeAQzykakRLicBSEjtqJYWnTldpWpbvLCxNiFDESyCbphUbOPlxKFYneltkiKboCpEZEEKMLpapOcYKxsZNcmOQaXHwrczoLIeBLIPoesnKCVILFhyLIpDAwABZBVzJadbXPlHCYvaaboCWeaKAyuYndbWJfoiithYXeLHEOVMtCCiEQYKFTjtvOBMdHfViWPMLkqNpUCEBLOGEYpAsrmxwkXgOOyFDyxrhZsRKbgqRlyWraPuTkjqLhGfTqAkUmRYUtUPTbgpeBqMiXWvilNbnSMCEQmPgJTMkglBUqtCLGJacmhAyTcpEiraRvJuxWGwjfVBCrLpherklcqWIEPCkbVjeRXtLQsqHmdGuBDEZVgvNDizjltjkzVHSJIXhxOCohPPgLPKwPkrEZWThKLvikJYRpckizFoaSbAnoEaPutbnMPwxKgrPPsJbJHUhrSODgMHODChgLpxqOaWCVHwQffgUvsioaJWtrsCndtgSIBcDekSXuFdNCUByWjeumzQlwrmHTNGaZYHqXddjbxYxRXGitXELbfXdJPdxtwIOGwvUJHuMsskdCFjALKzoxpHBrqbZistLwfAVXeMHXdbzKomGJHXXdjKcsrBXZrCOdPbktgxKOVNTxLrXDNJOnUMAuaeDMjKboXcUfELqSluqACUGYipdGwSRpVFqJhCFedEwJfKKskAmfaPNSNfNmmssOhXwjuanXpxeGzVPutUnrymfzyrScMYUpiUvFzmwUfGzySbSpWAvhTEbTKtsIHSYSkgneHeyiFrbSZsNgeUrbZsJvfTIRKaVtyHWWSmahYdAyzagsYcIzLBLDnUjymkMteiYObAVSGLGyiYNfiMpZftfzgvzVPKegZNpdadGpqGqYqOmttofSVKjeieicgsPSczOAjtuqBIDrtsaIjldjvAhLDhqPCOZaoGVYoPtFPCUAAVTuRCTaboFAnVSKYToKEASLtSuwzRZCVLYMISxGhVcVGNfEdGQgnWRVYlONDOnSjhTCKGwcmwOAwPKuSktKdzbdLGmrXigHSLmvvWrbRlgzgEuHfRClHkPqmpVorWCIGJgsDjFmrsOUzldAzXqhpaXiPiGMwdXkMjDpENsPHfknzqHMrxjDeDgJJJcimvzuVOZQJLbfccgVjsCBjOPLWKucoQfxJDGBswsWgtrkUfqRXdMcgDlIjbEuGrDRzhtWmSKipLYbVcUAeGOcxRJlHtyExqxAiaYfEVnobrGyoeOhywKKNqjjciQRPyzmRitokdHYgEDnuckPVbMYdESelSdymwUhilXwwxkoqTpbqviexlydLilufenHSQBsNgkzaQxnyeRWNSSUxVSSDfapGSIFSAYrkZGIRYSygwUNbQtMQNpycNFvyIOLKRqwLCqAxvdocXCoVWcGdOJEBWMxIwNtFtJOcmvaQAkyfUOnGaLsVfzuYheuoVluWHdcSJcvEWpqRSYvsqLoYXFlMhdPiNlMaJzHbWjjZcYvWxbiHBHvWlxhNWMAPgCBqnQFamPhyATWejjfTjgwuZCSDcuXAvNhkCkqDWOxUnYwUdGRHsArFHHPIkqGVQjdNLnIYPZlOMtwFtdqtCdqLiWZByFNjBoRpZBndzXoigexIIkuZWnblrDTPEsdGOnqSXrsRhVWsGBYrDhZHDIZtqNgPVsLSSHtUGAQIrxjVpeWnvrPqRFUPGeWIpsPozboQkLDgOUWaJBKXLoxNVqDUAErBcQBrhBFmYnXemcdwaIbVucZsPvlarCelswXOxhapMQGlHYSwVbGcODTErCxHphlJEBWZsfzuwptLRnXuyvEqPmbypRmzDUaQRnhtExnDPJKTKTDoZsYMeyXAsrUmHoINeMzWzjaChiBfVIJVtHuYrBVtNzjinvfZIpTGKmkxHmxctuZQIVDolaxbGYKZnLKtEtgjDZPbvHDBwLZTFLxEprgBQKDjwLeBtmHQoqyCdsAERUOizQWHIgSQequniGMMbXQXKnLMWFHTcxZnCgJOYoQGThzalOCutSSNlOvhvjOKYRmbnmWUnvAvaMaRYlebrhsNCkQdhpEgbFEVgUpTCuFPuAUaIdOdqgKobpuSIccMYmCWSNWyyFIAtAxmZUxnzQnulkdcMQLVysGFWgDeKRXoUNCLspeeLiAYFXOiEmHzzHjFejjYBqTlqYCFHNNGswtWTXzJIWkAgVTeBxpIUhjziqzFafvCJgHvJYHrPBoaPIVtgxnDZaoHMnHPrGbrVxZifjAlKnQjcoKabrWfjOPIPGRabFEKndqVpJVCiROhVFvgxmlzYiOerjSnmylFztzjtqZJfsgLdVKTFpNbrmFJIRZAbqqBvwewgVqqeaGcWUMaXIgxOVPIGYzoTyjubASmLzLqCeaRQvpvxMSidrAGfaanXYRbwlhKSEOEFapWuyCULQtjolsqbChFVCpuBJkxRVrlBqxLWqePIDFaPsmmwdpupxKAyozEJpZsaOfRbirQcROAJfriudPOaepjXJxcdFvglranbegUILnIAwheIVhxvYrnUgKOYIPqpLTXpmOVKxIAUUNteSPgCUoEtEEbrzKCoevnGjnOAOqlrgjELRlsqZlJoMNLASkRIPQrfWkhYMVFdxyzOCOusKFiHiLouQNlSYiWBmZJskZTneHzNCvaijnBqDNemtGqvDUFDjGioesBjLDOepLnvBALWVHxLVLbhhetoGYAqeZKDcgKyffZSJYhhZaxHHRYEwqvudHJuzwsTvcjMOBDycXYhzyQETjvMaTgoGlgVNyJesbaqmVNpubkguwjuSqbMirQxLVYuAMWpyGwLJqNXVDAdImZPcfoSXaxaltzBQwaeZZEMETIohULWsbbRWVCpGGJVjMdLjbQtYFRoSNSxqymZoMEsnbbZMMoNwbiTzIfzTisfUQtMTPK",
    );
}
